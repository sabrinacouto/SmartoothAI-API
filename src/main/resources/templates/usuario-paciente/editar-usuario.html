<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/editar-usuario.css">
    <title th:text="#{editProfile.title}">Editar Perfil</title>
</head>
<body>
<div th:replace="fragments/header :: header(${usuario})"></div>

<div class="container">
    <h1 th:text="#{editProfile.title}">Editar Perfil</h1>

    <div class="form-box">
        <form th:action="@{/usuario/editarUsuario/{id}(id=${usuario.pacienteId})}" th:object="${usuario}" method="post">
            <input type="hidden" name="_method" value="patch" />
            <div th:if="${error}" class="alert-danger">
                <p th:text="${error}"></p>
            </div>

            <label for="nome" th:text="#{editProfile.name}">Nome:</label>
            <input type="text" id="nome" name="nome" th:value="${usuario.nome}" required /><br>

            <label for="email" th:text="#{editProfile.email}">E-mail:</label>
            <input type="email" id="email" name="email" th:value="${usuario.email}" required /><br>

            <label for="contato" th:text="#{editProfile.contact}">Contato:</label>
            <input type="text" id="contato" name="contato" th:value="${usuario.contato}" required /><br>

            <label for="cidade" th:text="#{editProfile.address}">Endereço:</label>
            <input type="text" id="cidade" name="cidade" th:value="${usuario.cidade}" required /><br>

            <label for="dataNasc" th:text="#{editProfile.birthDate}">Data de Nascimento:</label>
            <input type="date" id="dataNasc" name="dataNasc" th:value="${usuario.dataNasc}" required /><br>

            <label for="senha" th:text="#{editProfile.password}">Senha</label>
            <input type="password" id="senha" name="senha" th:value="${usuario.senha}" required /><br>

            <button type="submit" th:text="#{editProfile.saveButton}">Salvar alterações</button>
        </form>

        <form th:action="@{/usuario/deletarUsuario/{id}(id=${usuario.pacienteId})}" method="post"
              onsubmit="return confirm('#{editProfile.confirmDelete}');">
            <input type="hidden" name="_method" value="delete" />
            <button type="submit" th:text="#{editProfile.deleteButton}">Excluir conta</button>
        </form>
    </div>
</div>
<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="/css/styles.css">
    <title>Editar Perfil</title>
</head>
<body>

<div th:replace="~{fragments :: header(${usuario})}"></div>
<h1>Editar Perfil</h1>

<form th:action="@{/usuario/editarUsuario/{id}(id=${usuario.pacienteId})}" th:object="${usuario}" method="post">
    <input type="hidden" name="_method" value="patch" />
    <div th:if="${error}" class="alert alert-danger">
        <p th:text="${error}"></p>
    </div>

    <label for="nome">Nome:</label>
    <input type="text" id="nome" name="nome" th:value="${usuario.nome}" required /><br>

    <label for="email">E-mail:</label>
    <input type="email" id="email" name="email" th:value="${usuario.email}" required /><br>

    <label for="contato">Contato:</label>
    <input type="text" id="contato" name="contato" th:value="${usuario.contato}" required /><br>

    <label for="cidade">Endereço:</label>
    <input type="text" id="cidade" name="cidade" th:value="${usuario.cidade}" required /><br>

    <label for="dataNasc">Data de Nascimento:</label>
    <input type="date" id="dataNasc" name="dataNasc" th:value="${usuario.dataNasc}" required /><br>

    <label for="senha">Senha</label>
    <input type="password" id="senha" name="senha" th:value="${usuario.senha}" required /><br>

    <button type="submit">Salvar alterações</button>
</form>

<form th:action="@{/usuario/deletarUsuario/{id}(id=${usuario.pacienteId})}" method="post"
    onsubmit="return confirm('Tem certeza que deseja excluir?');">
    <input type="hidden" name="_method" value="delete" />
    <button type="submit">Excluir conta</button>
</form>

</body>
</html>
